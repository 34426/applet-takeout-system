{"version":3,"sources":["webpack:///C:/Users/fwl/Desktop/wechatwaimai/wxmeituan/pages/takeout/components/ordering.vue?0df4","webpack:///C:/Users/fwl/Desktop/wechatwaimai/wxmeituan/pages/takeout/components/ordering.vue?c4a3","webpack:///C:/Users/fwl/Desktop/wechatwaimai/wxmeituan/pages/takeout/components/ordering.vue?5487","webpack:///C:/Users/fwl/Desktop/wechatwaimai/wxmeituan/pages/takeout/components/ordering.vue?0285","uni-app:///pages/takeout/components/ordering.vue","webpack:///C:/Users/fwl/Desktop/wechatwaimai/wxmeituan/pages/takeout/components/ordering.vue?3aa5","webpack:///C:/Users/fwl/Desktop/wechatwaimai/wxmeituan/pages/takeout/components/ordering.vue?35b4"],"names":["log","components","motal","props","orderingdata","busidata","data","flat","numing","isActive","orderclass","ordertitle","classifarr","commodity","goeasyid","physical","delivering","amount","arrtotalPrice","Takeawayprice","Takeleng","difference","MerchantId","nameshop","logo","methods","settLement","payment","openid","allorder","wx","url","ordermeClic","pLus","reDuce","pullData","indexs","Totalprice","image","input","price","computed","calculation","arr","arrdata","numdata","condition","watch"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;AACqC;;;AAG5F;AACsN;AACtN,gBAAgB,6NAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AAAA;AAAA;AAAA;AAAu1B,CAAgB,k2BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;AC4E32B;EAAAA;AAAA,eACA;EACAC;IACAC;EACA;EACAC;IACAC;IACAC;EACA;EACAC;IACA;MACA;MACAC;MACA;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;IACA;EACA;EAEAC;IACA;IACAC;MAAA;MACA1B;MACA;MACA;MACA;QACAA;QACA;QACA;UACA;QACA;MACA;QACAA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;UACA2B;UACAb;UACAC;UACAa;UACAN;UACAC;UACAC;UACAK;QACA;QACA;QACA;QACAC;UACAC;QACA;MACA;IAEA;IAGA;IACAC;MACA;MACA;MACAhC;MACA;MACA;QACA;MACA;MACA;MACA;IACA;IAEA;IACAiC;MACA;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;QACA;UACA;YACA;UACA;YACA;UACA;QACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACAC;QACAC;QACAC;QACAC;QACA;QACAC;MACA;MACA;MACA;MACA;MACA;QACA;MACA;MACAxC;MACA;IACA;EACA;EAEAyC;IACAC;MACA;MACA;MACA;MACA;QACAC;QACA;MACA;MACA;MACA;MACA;QACA;MACA;MACA;MACA;MACA;MACAC;QACAC;MACA;MACA;MACA;MACA;IACA;IAGA;IACAC;MACA;MACA;QACA;QACA;QACA9C;MACA;QACA;QACA;QACAA;QACA;UACA;UACA;UACAA;UACA;UACA;QACA;UACA;UACA;QACA;MACA;IACA;EAEA;EAGA+C;IACA;IACA3C;MACA;MACA;MACA;QACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;QACA;QACA;MACA;MACA;MACA;MACA;QACA;MACA;MACAJ;MACA;IACA;IAEA;IACAK;MACAL;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACvVA;AAAA;AAAA;AAAA;AAAmuC,CAAgB,+sCAAG,EAAC,C;;;;;;;;;;;ACAvvC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/takeout/components/ordering.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./ordering.vue?vue&type=template&id=0bf8a0c8&scoped=true&\"\nvar renderjs\nimport script from \"./ordering.vue?vue&type=script&lang=js&\"\nexport * from \"./ordering.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ordering.vue?vue&type=style&index=0&id=0bf8a0c8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bf8a0c8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/takeout/components/ordering.vue\"\nexport default component.exports","export * from \"-!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ordering.vue?vue&type=template&id=0bf8a0c8&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.isActive ? _vm.Takeleng.length : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.flat && _vm.settLement()\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ordering.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ordering.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"ordering-fls\">\r\n\t\t<!-- 商品分类左边 -->\r\n\t\t<view class=\"ordering-left\">\r\n\t\t\t<block v-for=\"(item,index) in orderclass\" :key=\"index\">\r\n\t\t\t<text :class=\"{activeord:index == numing}\" @click=\"ordermeClic(index,item)\">{{item}}</text>\r\n\t\t\t</block>\r\n\t\t</view>\r\n\t\t<!-- 商品列表：右边 -->\r\n\t\t<view class=\"ordering-right\">\r\n\t\t\t<text class=\"ordering-right-title\">{{ordertitle}}</text>\r\n\t\t\t<view>\r\n\t\t\t\t<block v-for=\"(item,index) in classifarr\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"content-view\">\r\n\t\t\t\t\t\t<!-- 左边商品图片 -->\r\n\t\t\t\t\t\t<view class=\"content-img\">\r\n\t\t\t\t\t\t\t<image :src=\"item.objdis.image\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t</view> \r\n\t\t\t\t\t\t<!-- 右边商品 -->\r\n\t\t\t\t\t\t<view class=\"content-title\">\r\n\t\t\t\t\t\t\t<text class=\"conteng-take\">{{item.objdis.input}}</text>\r\n\t\t\t\t\t\t\t<view class=\"conteng-monthly\">\r\n\t\t\t\t\t\t\t\t<block v-for=\"(itemdata,index) in item.objdis.tags\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<text>{{itemdata}}</text>\r\n\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"conteng-starting\">\r\n\t\t\t\t\t\t\t\t<text>月售10</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"conteng-price\">\r\n\t\t\t\t\t\t\t\t<view class=\"conteng-shi\">¥{{item.objdis.Discount}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"conteng-hua\">¥{{item.objdis.Price}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"ordering-price\">\r\n\t\t\t\t\t\t\t\t\t<image @click=\"reDuce(item.amount,item._id,index,item.objdis.Discount,item.objdis.image,item.objdis.input)\" src=\"../../../static/coen/jianhao.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t\t\t<text class=\"amounting\">{{item.amount}}</text>\r\n\t\t\t\t\t\t\t\t\t<image @click=\"pLus(item.amount,item._id,index,item.objdis.Discount,item.objdis.image,item.objdis.input)\" src=\"../../../static/coen/jiahao.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 总价计算区域 -->\r\n\t\t<view class=\"Shopping\">\r\n\t\t\t<!-- 骑手 -->\r\n\t\t\t<view class=\"qishou\">\r\n\t\t\t\t<image v-if=\"!isActive\" src=\"../../../static/coen/weigou.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t<image v-if=\"isActive\" src=\"../../../static/coen/yigou.png\" mode=\"widthFix\"></image>\r\n\t\t\t</view>\r\n\t\t\t<!-- 多少量 -->\r\n\t\t\t<view class=\"Numbering\" v-if=\"isActive\">{{Takeleng.length}}</view>\r\n\t\t\t<!-- 金额 -->\r\n\t\t\t<view class=\"Shopping-dis\">\r\n\t\t\t\t<view class=\"Shopping-left\">\r\n\t\t\t\t\t<view class=\"Cost-mony\">\r\n\t\t\t\t\t\t<text class=\"Total-price\">¥{{Takeawayprice}}</text>\r\n\t\t\t\t\t\t<text class=\"Delivery\">另需配送费{{physical}}元</text>\r\n\t\t\t\t\t</view> \r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"Shopping-right\" :class=\"{shoppactive: isActive}\" @click=\"flat && settLement()\">\r\n\t\t\t\t\t<text v-if=\"!isActive\">{{delivering}}元起送</text>\r\n\t\t\t\t\t<text v-if=\"isActive\">{{difference}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 登录模态弹窗组件 -->\r\n\t\t<motal ref=\"mon\"></motal>\r\n\t</view>\n</template>\n\n<script>\r\n\t// 引入登录模态弹窗组件\r\n\timport motal from '../../../element/modal.vue'\r\n\tvar {log} = console\r\n\texport default{\r\n\t\tcomponents:{\r\n\t\t\tmotal\r\n\t\t},\r\n\t\tprops:{\r\n\t\t\torderingdata:Array,\r\n\t\t\tbusidata:Object\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 禁止点击\r\n\t\t\t\tflat:false,\r\n\t\t\t\t// 商品分类左边\r\n\t\t\t\tnuming:0,\r\n\t\t\t\tisActive:false,\r\n\t\t\t\t// 左边的分类\r\n\t\t\t\torderclass:[],\r\n\t\t\t\t// 右边默认展示的分类\r\n\t\t\t\tordertitle:'',\r\n\t\t\t\t// 右边默认展示的商品\r\n\t\t\t\tclassifarr:[],\r\n\t\t\t\t// 所有的商品数据\r\n\t\t\t\tcommodity:[],\r\n\t\t\t\tgoeasyid:'',\r\n\t\t\t\t// 配送费\r\n\t\t\t\tphysical:Number,\r\n\t\t\t\t// 起送费\r\n\t\t\t\tdelivering:Number,\r\n\t\t\t\t// 商品数量\r\n\t\t\t\tamount:'',\r\n\t\t\t\t// 存放得到总价的商品\r\n\t\t\t\tarrtotalPrice:[],\r\n\t\t\t\t// 所有商品累积的总价\r\n\t\t\t\tTakeawayprice:0,\r\n\t\t\t\t// 选择了几份商品\r\n\t\t\t\tTakeleng:[],\r\n\t\t\t\t//还差多少满足起送金额\r\n\t\t\t\tdifference:'',\r\n\t\t\t\t// 商家标识\r\n\t\t\t\tMerchantId:'',\r\n\t\t\t\t// 商家名称\r\n\t\t\t\tnameshop:'',\r\n\t\t\t\t// 商家logo\r\n\t\t\t\tlogo:''\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tmethods:{\r\n\t\t\t// 去结算\r\n\t\t\tsettLement(){\r\n\t\t\t\tlog('去结算')\r\n\t\t\t\t// 去结算前的条件就是必须已经登录：到本地存储去查看是否已经有用户信息\r\n\t\t\t\tlet setdata = uni.getStorageSync('usermen')\r\n\t\t\t\tif(!setdata){\r\n\t\t\t\t\tlog('用户没有登录')\r\n\t\t\t\t\t// 弹出模态登录框\r\n\t\t\t\t\tthis.$nextTick(()=>{\r\n\t\t\t\t\t\tthis.$refs.mon.init()\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlog('已经登录')\r\n\t\t\t\t\t// 做支付\r\n\t\t\t\t\t// 需要支付的总金额\r\n\t\t\t\t\t// 配送费\r\n\t\t\t\t\t// 用户openid\r\n\t\t\t\t\t// 商家标识：身份证\r\n\t\t\t\t\t// 商家名称\r\n\t\t\t\t\t// 商家logo\r\n\t\t\t\t\t// 点的商品个数\r\n\t\t\t\t\tlet payment = parseFloat((this.Takeawayprice + this.physical).toFixed(10))\r\n\t\t\t\t\tlet Ordering = {\r\n\t\t\t\t\t\tpayment,\r\n\t\t\t\t\t\tgoeasyid:this.goeasyid,\r\n\t\t\t\t\t\tphysical:this.physical,\r\n\t\t\t\t\t\topenid:setdata.openid,\r\n\t\t\t\t\t\tMerchantId:this.MerchantId,\r\n\t\t\t\t\t\tnameshop:this.nameshop,\r\n\t\t\t\t\t\tlogo:this.logo,\r\n\t\t\t\t\t\tallorder:this.Takeleng\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 路径带数据不能带对象，数组，只能是字符串\r\n\t\t\t\t\tlet strorder = JSON.stringify(Ordering)\r\n\t\t\t\t\twx.navigateTo({\r\n\t\t\t\t\t\turl:'../placeorder/placeorder?ide=' + strorder\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// 左边商品分类的切换\r\n\t\t\tordermeClic(index,itemclass){\r\n\t\t\t\tthis.numing = index\r\n\t\t\t\tthis.ordertitle = itemclass\r\n\t\t\t\tlog(itemclass)\r\n\t\t\t\t// 分类切换\r\n\t\t\t\tlet itemarr = this.commodity.filter((item)=>{\r\n\t\t\t\t\treturn item.optidata == itemclass\r\n\t\t\t\t})\r\n\t\t\t\t// log(itemarr)\r\n\t\t\t\tthis.classifarr = itemarr\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 加价\r\n\t\t\tpLus(amounts,indexs,indexdata,price,image,input){\r\n\t\t\t\t// log(amounts)\r\n\t\t\t\t// 商品数量\r\n\t\t\t\tthis.amount =  Number(amounts) + Number(1)\r\n\t\t\t\t// log(this.amount)\r\n\t\t\t\tthis.pullData(indexs,indexdata,price,image,input)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 减价\r\n\t\t\treDuce(amounts,indexs,indexdata,price,image,input){\r\n\t\t\t\t// log(amounts)\r\n\t\t\t\t// 商品数量\r\n\t\t\t\tthis.amount =  Number(amounts) - Number(1)\r\n\t\t\t\t// log(this.amount)\r\n\t\t\t\tthis.pullData(indexs,indexdata,price,image,input)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 加减价公用函数\r\n\t\t\tpullData(indexs,indexdata,price,image,input){\r\n\t\t\t\tlet findarr = this.classifarr.filter((item,index)=>{\r\n\t\t\t\t\tif(item._id == indexs){\r\n\t\t\t\t\t\tif(this.amount < 1){\r\n\t\t\t\t\t\t\treturn item.amount = '0'\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\treturn item.amount = this.amount\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// log(findarr)\r\n\t\t\t\t// 得到更改的数组重新更新classifarr数组，数组顺序要保持不变\r\n\t\t\t\tthis.classifarr[indexdata] = findarr[0]\r\n\t\t\t\t// 计算总价：单价 *数量\r\n\t\t\t\tif(Number(this.amount) <= 0){\r\n\t\t\t\t\tthis.amount = 0\r\n\t\t\t\t}\r\n\t\t\t\tlet Totalnum = price * Number(this.amount)\r\n\t\t\t\t// log(Totalnum)\r\n\t\t\t\t// 解决总价为浮点数的情况\r\n\t\t\t\tlet Totalprice = parseFloat((Totalnum).toFixed(10))\r\n\t\t\t\t// log(Totalprice)\r\n\t\t\t\t// 把单个商品得到的总价作为一个对象push到数组里，方便后面\r\n\t\t\t\t// 多个商品总价计算时来得到最终的价格\r\n\t\t\t\tlet fands = {\r\n\t\t\t\t\tindexs,\r\n\t\t\t\t\tTotalprice,\r\n\t\t\t\t\timage,\r\n\t\t\t\t\tinput,\r\n\t\t\t\t\t\"amount\":this.amount,\r\n\t\t\t\t\tprice\r\n\t\t\t\t}\r\n\t\t\t\tthis.arrtotalPrice.push(fands)\r\n\t\t\t\t// log(this.arrtotalPrice)\r\n\t\t\t\t// 查询当前点击的商品_id，替换总价\r\n\t\t\t\tlet findarrdata = this.arrtotalPrice.map((item)=>{\r\n\t\t\t\t\treturn item.indexs == indexs ? fands : item\r\n\t\t\t\t})\r\n\t\t\t\tlog(findarrdata)\r\n\t\t\t\tthis.arrtotalPrice = findarrdata\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tcomputed:{\r\n\t\t\tcalculation(){\r\n\t\t\t\t// 监听总价\r\n\t\t\t\t// 1数组对象去重 :累加器：reduce()\r\n\t\t\t\tlet arr = {}\r\n\t\t\t\tlet arrdata = this.arrtotalPrice.reduce((preVal,curVal)=>{\r\n\t\t\t\t\tarr[curVal.indexs] ? '' : arr[curVal.indexs] = true && preVal.push(curVal)\r\n\t\t\t\t\treturn preVal\r\n\t\t\t\t},[])\r\n\t\t\t\t// log(arrdata)\r\n\t\t\t\t// 剔除总价为0的商品\r\n\t\t\t\tthis.Takeleng = arrdata.filter((item)=>{\r\n\t\t\t\t\treturn item.Totalprice != 0\r\n\t\t\t\t})\r\n\t\t\t\t// log(taoarr)\r\n\t\t\t\t// 所有商品的总价累积之和\r\n\t\t\t\tlet numdata = 0\r\n\t\t\t\tarrdata.forEach((item)=>{\r\n\t\t\t\t\tnumdata += item.Totalprice\r\n\t\t\t\t})\r\n\t\t\t\t// log(numdata)\r\n\t\t\t\t// 得到的总价\r\n\t\t\t\tthis.Takeawayprice = parseFloat((numdata).toFixed(10))\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// 时候满足下单的条件\r\n\t\t\tcondition(){\r\n\t\t\t\t// 时候选择任何一个商品\r\n\t\t\t\tif(this.Takeawayprice === 0){\r\n\t\t\t\t\tthis.isActive = false\r\n\t\t\t\t\tthis.flat = false\r\n\t\t\t\t\tlog('没有选择任何一件商品')\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.isActive = true\r\n\t\t\t\t\tthis.flat = true\r\n\t\t\t\t\tlog('选择了一件或多件商品')\r\n\t\t\t\t\tif(this.Takeawayprice < this.delivering){\r\n\t\t\t\t\t\t// 不达到起送金额  还差多少满足 = 起送金额 - 总价 \r\n\t\t\t\t\t\tlet preceMen = parseFloat((this.delivering - this.Takeawayprice).toFixed(10))\r\n\t\t\t\t\t\tlog(preceMen)\r\n\t\t\t\t\t\tthis.difference = '还差' + preceMen  + '元'\r\n\t\t\t\t\t\tthis.flat = false\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.difference = '去结算'\r\n\t\t\t\t\t\tthis.flat = true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t\twatch:{\r\n\t\t\t// 用户进入该页面，1.默认展示在第一个tab上（盖浇饭），2.并且展示该分类下面的商品\r\n\t\t\torderingdata(newvalue,oldvalue){\r\n\t\t\t\t// log(newvalue)\r\n\t\t\t\t// 1取出左边的商品分类\r\n\t\t\t\tlet classifdata = newvalue.map((item)=>{\r\n\t\t\t\t\treturn item.optidata\r\n\t\t\t\t})\r\n\t\t\t\t// log(classifdata)\r\n\t\t\t\t// 数组去重\r\n\t\t\t\tlet setdataarr = Array.from(new Set(classifdata))\r\n\t\t\t\t// log(stadataarr)\r\n\t\t\t\tthis.orderclass = setdataarr\r\n\t\t\t\t// 2右边的商品\r\n\t\t\t\tthis.commodity = newvalue\r\n\t\t\t\t// 3右边默认分类为第一个分类\r\n\t\t\t\tthis.ordertitle = newvalue[0].optidata\r\n\t\t\t\t// 4往商品里添加一个字段为0\r\n\t\t\t\tlet commoditytata = newvalue.map((item)=>{\r\n\t\t\t\t\tlet key = 'amount'\r\n\t\t\t\t\tlet value = 0\r\n\t\t\t\t\treturn item[key] = value\r\n\t\t\t\t})\r\n\t\t\t\t// log(commoditytata)\r\n\t\t\t\t// 5右边默认展示的商品是第一个分类下的商品\r\n\t\t\t\tlet classifarr = this.commodity.filter((item)=>{\r\n\t\t\t\t\treturn item.optidata == newvalue[0].optidata\r\n\t\t\t\t})\r\n\t\t\t\tlog(classifarr)\r\n\t\t\t\tthis.classifarr = classifarr\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 商家介绍\r\n\t\t\tbusidata(newvalue,oldvalue){\r\n\t\t\t\tlog(newvalue)\r\n\t\t\t\tthis.goeasyid = newvalue.goeasyid\r\n\t\t\t\t// 配送费\r\n\t\t\t\tthis.physical = newvalue.physical\r\n\t\t\t\t// 起送价\r\n\t\t\t\tthis.delivering = newvalue.delivering\r\n\t\t\t\t// 商家标识\r\n\t\t\t\tthis.MerchantId = newvalue.openid\r\n\t\t\t\t// 商家名称\r\n\t\t\t\tthis.nameshop = newvalue.shop\r\n\t\t\t\t// 商家logo\r\n\t\t\t\tthis.logo = newvalue.logo\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style scoped>\r\n\t.ordering-fls{display: flex; justify-content: space-between;}\r\n\t/* 左边商品分类 */\r\n\t.ordering-left{width: 190upx; background: #fafafa;\r\n\toverflow-y: auto;\r\n\theight: 100%;\r\n\t}\r\n\t.ordering-left text{\r\n\tcolor: #a8a8a8;\r\n\tdisplay: block;\r\n\tfont-size: 28upx;\r\n\theight: 80upx;\r\n\tline-height: 80upx;\r\n\ttext-align: center;}\r\n\t.activeord{background: #FFFFFF !important; font-weight: bold !important;}\r\n\t/* 右边 */\r\n\t.ordering-right{width: 100%;\r\n\tpadding: 9upx 9upx 130upx 9upx;\r\n\toverflow: hidden;\r\n\toverflow-y: auto;\r\n\t}\r\n\t.activeord{background: #FFFFFF !important; font-weight: bold !important;}\r\n\t\r\n\t.ordering-right-title{font-size: 28upx;\r\n\theight: 60upx;\r\n\tline-height: 60upx;}\r\n\t\r\n\t.content-view{\r\n\tdisplay: flex; justify-content: space-between;\r\n\theight: 200upx !important; overflow: hidden;\r\n\tmargin: 30upx 0;\r\n\tcolor: #898989;\r\n\t}\r\n\t.content-img{width: 180rpx !important; height: 200rpx !important;\r\n\toverflow: hidden;\r\n\t}\r\n\t.content-img image{width: 100%; height: 100%; border-radius: 10upx;\r\n\toverflow: hidden;}\r\n\t.content-title{\r\n\t/* width: 100%; */\r\n\tpadding-left: 10upx;\r\n\tfont-size: 24upx;\r\n\t}\r\n\t\r\n\t.conteng-take{\r\n\tcolor: #333333;\r\n\theight: 50upx; font-size: 33upx;\r\n\tfont-weight: bold;\r\n\tline-height: 50upx;\r\n\tdisplay: -webkit-box;\r\n\t-webkit-box-orient: vertical;\r\n\t-webkit-line-clamp: 1;\r\n\toverflow: hidden;}\r\n\t.conteng-monthly{display: flex;\r\n\t}\r\n\t.conteng-monthly text{background: #f1f1f1;\r\n\tmargin-right: 9upx;\r\n\tpadding: 4upx 13upx;\r\n\tborder-radius: 7upx;\r\n\tdisplay: block;\r\n\t}\r\n\t.conteng-starting{display: flex;\r\n\talign-items: center;\r\n\theight: 50upx;\r\n\tline-height: 50upx;}\r\n\t.conteng-price image{width: 60upx; height: 60upx;}\r\n\t.conteng-price{display: flex; align-items: center;}\r\n\t.ordering-price{display: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-around;\r\n\twidth: 100%;\r\n\t}\r\n\t/* 数量 */\r\n\t.amounting{\r\n\twidth: 50upx;\r\n\ttext-align: center;}\r\n\t.conteng-hua{text-decoration: line-through;\r\n\t}\r\n\t.conteng-shi{color: #fb4e44; font-size: 33upx;\r\n\twidth: 180upx;\r\n\toverflow: hidden;\r\n\t}\r\n\t/* 购物车 */\r\n\t.Shopping{position: fixed;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\twidth: 100%;\r\n\t}\r\n\t.Shopping-left{\r\n\theight: 130upx;\r\n\tbackground: #000000; flex-grow: 2;\r\n\tborder-top-left-radius: 50upx;\r\n\tborder-bottom-left-radius: 50upx;\r\n\t}\r\n\t.Shopping-right{\r\n\theight: 130upx;\r\n\tline-height: 130upx;\r\n\tfont-size: 30upx;\r\n\tcolor: #7f7f7f;\r\n\ttext-align: center;\r\n\tbackground: #000000; flex-grow: 1;\r\n\tborder-top-right-radius: 50upx;\r\n\tborder-bottom-right-radius: 50upx;}\r\n\t.Shopping-dis{display: flex;\r\n\theight: 130upx;\r\n\tmargin: 0 20upx;\r\n\t}\r\n\t.qishou{width: 120upx; height: 150upx;\r\n\tposition: fixed;\r\n\tbottom: 0upx;\r\n\tleft: 50upx;\r\n\t}\r\n\t.qishou image{width: 120upx; height: 150upx !important;}\r\n\t/* 定位 */\r\n\t.Delivery{color: #999999;\r\n\tfont-size: 28upx;\r\n\theight: 65upx;}\r\n\t.Shopping-left text{display: block;}\r\n\t.Total-price{font-size: 40upx; color: #FFFFFF;\r\n\theight: 65upx;\r\n\tline-height: 65upx;\r\n\t}\r\n\t.Cost-mony{padding-left: 170upx; color: #4CD964;\r\n\theight: 130upx;\r\n\t}\r\n\t/* 数量 */\r\n\t.Numbering{\r\n\tbackground: red;\r\n\twidth: 40upx;\r\n\theight: 40upx;\r\n\tborder-radius: 50%;\r\n\tfont-size: 20upx;\r\n\tcolor: #FFFFFF;\r\n\ttext-align: center;\r\n\tline-height: 40upx;\r\n\tposition: fixed;\r\n\tbottom: 50upx;\r\n\tleft: 130upx;}\r\n\t/* 选中菜品 */\r\n\t.shoppactive{background: #ffd300 !important;\r\n\tcolor: #000000 !important;}\n</style>\n","import mod from \"-!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ordering.vue?vue&type=style&index=0&id=0bf8a0c8&scoped=true&lang=css&\"; export default mod; export * from \"-!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\programmer\\\\software\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ordering.vue?vue&type=style&index=0&id=0bf8a0c8&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1675598843982\n      var cssReload = require(\"E:/programmer/software/HBuilderX.3.6.18.20230117/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}